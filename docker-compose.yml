version: '3.8'

services:
  jw-news-parser:
    build: .
    container_name: jw-news-parser
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      - ./history.json:/app/history.json
      - ./email_list.txt:/app/email_list.txt
    environment:
      - NODE_ENV=production
      - HEADLESS=true
    # Uncomment to run on a schedule using a cron-like pattern
    # deploy:
    #   restart_policy:
    #     condition: on-failure
